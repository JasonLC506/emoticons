N, d, L:  14861 4 4
distinct features:  100 distinct pairlabel:  24
Traceback (most recent call last):
  File "SMPrank.py", line 366, in <module>
    results = crossValidate(x,y,K=100)
  File "SMPrank.py", line 342, in crossValidate
    y_pred = SmpRank(K=K).fit(x_train, y_train).predict(x_test)
  File "SMPrank.py", line 70, in fit
    self.initialize(N,d,L, x_train, y_train)
  File "SMPrank.py", line 229, in initialize
    raise ValueError("too many prototypes")
ValueError: too many prototypes
/home/jasonzhang/anaconda2/lib/python2.7/site-packages/numpy/ma/core.py:867: RuntimeWarning: invalid value encountered in less_equal
  return umath.less_equal(x, self.critical_value)
dataset, N,d,L,K calhousing 20640 4 4 12
N, d, L:  14861 4 4
loss_valid 0 0.970282391525
loss_train 0 0.961754416744
loss_valid 1 0.959895529965
loss_train 1 0.949859363392
loss_valid 2 0.948166973606
loss_train 2 0.937897707407
loss_valid 3 0.939892011201
loss_train 3 0.929175112139
loss_valid 4 0.935459470552
loss_train 4 0.922584892594
loss_valid 5 0.927279729349
loss_train 5 0.915669092363
loss_valid 6 0.922531962223
loss_train 6 0.911540729214
loss_valid 7 0.922237699048
loss_train 7 0.909572033797
loss_valid 8 0.918042318516
loss_train 8 0.908055671109
loss_valid 9 0.91916605946
loss_train 9 0.906755338117
early stop at the end of epoch:  9
[0.18968023255813954, 0, 0, 0.55256782945736438, 0.65794573643410847, 0.75266472868217049, 0.82776162790697672, 0.5525678294573644, 0.6579457364341085, 0.7526647286821705, 0.8277616279069767, 4128.0, 4128.0, 4128.0, 4128.0, 0, 0.68987535747876227, 0.26340439276485789, nan, 0.5228826933193056, 0.20401757689893282, 0.5968268782081194, 0.6629314208874943, nan, 0.6316279069767442, 0.5735155513666352, 0.910988578180386, 0.612008072653885, nan, 0.596441947565543, 0.7043740573152338, 0.699502487562189, 0.7009018036072144, nan, 0, 1899, 1591, 2141, 2229, 0, 2148, 2120, 2537, 1980, 0, 2134, 1987, 2008, 1994, 0, 0.5893504454861056]
N, d, L:  14861 4 4
loss_valid 0 0.96603767464
loss_train 0 0.957722817147
loss_valid 1 0.95322743341
loss_train 1 0.943443122171
loss_valid 2 0.942526486149
loss_train 2 0.934577526216
loss_valid 3 0.936925453742
loss_train 3 0.929748011002
loss_valid 4 0.929885684059
loss_train 4 0.924447157401
loss_valid 5 0.926069063099
loss_train 5 0.920307374142
loss_valid 6 0.924388856836
loss_train 6 0.915963600741
loss_valid 7 0.92577614677
loss_train 7 0.913745529811
early stop at the end of epoch:  7
[0.20760658914728683, 0, 0, 0.50387596899224807, 0.74249031007751942, 0.73788759689922478, 0.81976744186046513, 0.5038759689922481, 0.7424903100775194, 0.7378875968992248, 0.8197674418604651, 4128.0, 4128.0, 4128.0, 4128.0, 0, 0.68972160187692688, 0.2583979328165375, nan, 0.39675675675675676, 0.12555205047318613, 0.5842207163601162, 0.791849255039439, nan, 0.7755760368663595, 0.5788189360663738, 0.9493521790341578, 0.43934760448521915, nan, 0.5849148418491484, 0.7013552758954501, 0.6778684589534325, 0.6918632643235436, nan, 0, 1848, 1583, 2064, 2280, 0, 2168, 2047, 2545, 1960, 0, 2053, 2064, 2081, 2075, 0, 0.55368644964528058]
N, d, L:  14861 4 4
loss_valid 0 0.95618747448
loss_train 0 0.962799771761
loss_valid 1 0.946077827289
loss_train 1 0.951321753688
loss_valid 2 0.937437930339
loss_train 2 0.9414740581
loss_valid 3 0.92617984843
loss_train 3 0.932592630319
loss_valid 4 0.92032835351
loss_train 4 0.925546558085
loss_valid 5 0.918165548583
loss_train 5 0.922719364435
loss_valid 6 0.914318603278
loss_train 6 0.918952494333
loss_valid 7 0.911263787326
loss_train 7 0.915626924927
loss_valid 8 0.908100928821
loss_train 8 0.913997731369
loss_valid 9 0.910500650664
loss_train 9 0.913613530687
early stop at the end of epoch:  9
[0.155765503875969, 0, 0, 0.46487403100775193, 0.66666666666666663, 0.7468507751937985, 0.85101744186046513, 0.46487403100775193, 0.6666666666666666, 0.7468507751937985, 0.8510174418604651, 4128.0, 4128.0, 4128.0, 4128.0, 0, 0.66619916049818362, 0.25629844961240311, nan, 0.34826132771338253, 0.11235955056179775, 0.5724201758445164, 0.8263205013428827, nan, 0.6188925081433225, 0.5279445727482679, 0.9596837944664032, 0.5769036812909732, nan, 0.572617946345976, 0.7321156773211568, 0.7559735638027453, 0.7274111675126903, nan, 0, 1896, 1600, 2159, 2232, 0, 2147, 2163, 2528, 1981, 0, 2160, 1969, 1965, 1968, 0, 0.55033704454929]
N, d, L:  14861 4 4
loss_valid 0 0.972361358035
loss_train 0 0.960976227015
loss_valid 1 0.96084683244
loss_train 1 0.946161057076
loss_valid 2 0.954365732811
loss_train 2 0.936502284073
loss_valid 3 0.949028488876
loss_train 3 0.929431828616
loss_valid 4 0.942847987626
loss_train 4 0.924470999535
loss_valid 5 0.942532744974
loss_train 5 0.92281934696
loss_valid 6 0.94125617465
loss_train 6 0.919832278144
loss_valid 7 0.936300672388SMPrank.py:290: RuntimeWarning: invalid value encountered in double_scalars
  self.probfeature[k] = self.probfeature[k] / sum_probf
/home/jasonzhang/anaconda2/lib/python2.7/site-packages/numpy/lib/nanfunctions.py:703: RuntimeWarning: Mean of empty slice
  warnings.warn("Mean of empty slice", RuntimeWarning)
/home/jasonzhang/anaconda2/lib/python2.7/site-packages/numpy/lib/nanfunctions.py:1202: RuntimeWarning: Degrees of freedom <= 0 for slice.
  warnings.warn("Degrees of freedom <= 0 for slice.", RuntimeWarning)

loss_train 7 0.916378973691
loss_valid 8 0.932787390949
loss_train 8 0.914408262056
loss_valid 9 0.931229335459
loss_train 9 0.911052451167
loss_valid 10 0.929015457839
loss_train 10 0.908769392559
loss_valid 11 0.930829617845
loss_train 11 nan
early stop at the end of epoch:  11
[0.18992248062015504, 0, 0, 0.50339147286821706, 0.69476744186046513, 0.72093023255813948, 0.84447674418604646, 0.5033914728682171, 0.6947674418604651, 0.7209302325581395, 0.8444767441860465, 4128.0, 4128.0, 4128.0, 4128.0, 0, 0.67929209603479535, 0.24693152454780362, nan, 0.44146467251160393, 0.17264851485148514, 0.5528266913809082, 0.7628818969448244, nan, 0.7220402433317735, 0.5168539325842697, 0.9264705882352942, 0.49624060150375937, nan, 0.5537037037037037, 0.7142857142857143, 0.7369739478957916, 0.7139959432048681, nan, 0, 1937, 1614, 2156, 2191, 0, 2135, 2134, 2514, 1993, 0, 2158, 1972, 1994, 1970, 0, 0.56883716374890869]
N, d, L:  14861 4 4
loss_valid 0 0.959601769226
loss_train 0 0.958550426414
loss_valid 1 0.946336802625
loss_train 1 0.945095071098
loss_valid 2 0.938590474813
loss_train 2 0.935473144166
loss_valid 3 0.935082193622
loss_train 3 0.930665219201
loss_valid 4 0.931148615084
loss_train 4 0.925261327424
loss_valid 5 0.932163200876
loss_train 5 0.923507351915
early stop at the end of epoch:  5
[0.19404069767441862, 0, 0, 0.46947674418604651, 0.77567829457364346, 0.73667635658914732, 0.81177325581395354, 0.4694767441860465, 0.7756782945736435, 0.7366763565891473, 0.8117732558139535, 4128.0, 4128.0, 4128.0, 4128.0, 0, 0.68312754686241872, 0.25427971576227393, nan, 0.3305996924654024, 0.07050092764378478, 0.6273291925465838, 0.8390646492434664, nan, 0.8176160842508378, 0.5876436781609196, 0.9634194831013917, 0.3964757709251101, nan, 0.6299137104506232, 0.672388425698872, 0.6903131115459883, 0.6739980449657869, nan, 0, 1949, 1615, 2091, 2179, 0, 2087, 2086, 2513, 2041, 0, 2084, 2037, 2042, 2044, 0, 0.5255218991087871]
{'perf': [array([  1.87403101e-01,   0.00000000e+00,   0.00000000e+00,
         4.98837209e-01,   7.07509690e-01,   7.39001938e-01,
         8.30959302e-01,   4.98837209e-01,   7.07509690e-01,
         7.39001938e-01,   8.30959302e-01,   4.12800000e+03,
         4.12800000e+03,   4.12800000e+03,   4.12800000e+03,
         0.00000000e+00,   6.81643153e-01,   2.55862403e-01,
                    nan,   4.07993029e-01,   1.37015724e-01,
         5.86724731e-01,   7.76609545e-01,              nan,
         7.13150556e-01,   5.56955334e-01,   9.41982925e-01,
         5.04195146e-01,              nan,   5.87518430e-01,
         7.04903830e-01,   7.12126314e-01,   7.01634045e-01,
                    nan,   0.00000000e+00,   1.90580000e+03,
         1.60060000e+03,   2.12220000e+03,   2.22220000e+03,
         0.00000000e+00,   2.13700000e+03,   2.11000000e+03,
         2.52740000e+03,   1.99100000e+03,   0.00000000e+00,
         2.11780000e+03,   2.00580000e+03,   2.01800000e+03,
         2.01020000e+03,   0.00000000e+00,   5.57546601e-01]), array([  1.71155413e-02,   0.00000000e+00,   0.00000000e+00,
         3.14599566e-02,   4.50726200e-02,   1.07843657e-02,
         1.47555917e-02,   3.14599566e-02,   4.50726200e-02,
         1.07843657e-02,   1.47555917e-02,   0.00000000e+00,
         0.00000000e+00,   0.00000000e+00,   0.00000000e+00,
         0.00000000e+00,   8.70951578e-03,   5.39937305e-03,
                    nan,   6.92875810e-02,   4.67386455e-02,
         2.49429074e-02,   6.27936815e-02,              nan,
         7.79994047e-02,   2.87881192e-02,   2.01416724e-02,
         8.09717240e-02,              nan,   2.54920684e-02,
         1.94865533e-02,   2.94915705e-02,   1.83140897e-02,
                    nan,   0.00000000e+00,   3.55606524e+01,
         1.25634390e+01,   3.79757818e+01,   3.55606524e+01,
         0.00000000e+00,   2.71514272e+01,   4.00749298e+01,
         1.25634390e+01,   2.71514272e+01,   0.00000000e+00,
         4.24282924e+01,   3.79757818e+01,   4.00749298e+01,
         4.24282924e+01,   0.00000000e+00,   2.11254412e-02])]}
